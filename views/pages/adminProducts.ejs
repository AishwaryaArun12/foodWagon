<%- include('../partials/header') %>
<div class="d-flex">
    <div class="sidebar">
        <ul class="nav-links">
            <li><a href="/admin/home">Dashboard</a></li>
            <li><a href="/admin/allSeller">Sellers</a></li>
            <li><a href="/admin/allUser">Users</a></li>
            <li><a href="/admin/category">Category</a></li>
            <li><a href="/admin/allProducts"><b>Products</b></a></li>
            <li><a href="/admin/coupon">Coupon</a></li>
            <li><a href="/admin/orders">Orders</a></li>
            <!-- Add more menu items as needed -->
        </ul>
      </div>
    <div class="content">
        <div class="d-flex">
          
            <div class="container">
                <form class="d-flex" action="/admin/search/item" method="post" >
                   <input class="form-control m-3  border border-warning w-50 " id="searchInput" type="search" placeholder="Search Items.."  aria-label="Search" name="q">           
                  <button class="btn btn-warning m-3" type="submit">Search</button>
                </form>
              </div>
              
        </div>
        
            
            
              <div id="search" class="m-4">
                
                <% for(let i=0;i< items.length;i++){ %>
                  <table class="table table-dark table-hover align-middle table-striped">
                    <thead>
                      <tr>
                        <th scope="col" style="width: 230px;">Item Name</th>
                        <th scope="col">Images</th>
                        <th scope="col">Discount</th>                
                        <th scope="col">Price</th>
                        <th scope="col">Stock</th>
                        <th scope="col">Status</th>
                        <th scope="col">Edit</th>
                        <th scope="col">Delete</th>
                        
                      </tr>
                    </thead>
                    <tbody>
                      <tr>
                        
                        <td><%= items[i].name %></td>
                        <td><img src="/<%=items[i].images[0]%>" width="100px" height="100px" alt="image"></td>
                        <td><%= items[i].discount %>%</td>
                        <td><%= items[i].price %></td>
                        <td><%= items[i].stock %></td>
                        <td><% if(items[i].blocked == false){ %>
                          Active
                          <% }else{ %>
                              Blocked
                              <% } %></td>
                        <td><a href="/sellers/editItem/<%=items[i]._id%>"><img src="https://upload.wikimedia.org/wikipedia/commons/thumb/9/95/UniversalEditButton3.svg/1200px-UniversalEditButton3.svg.png" alt="edit" width="40px" height="40px"></a></td>
                        <td><% if(items[i].blocked == false){ %>
                            <a href="/admin/block/item/<%=items[i]._id%>" ><img src="/img/icons/delete.png" alt="" width="40px" height="40px"></a></td>
                            <% }else{ %>
                                <a href="/admin/unblock/item/<%=items[i]._id%>"><img src="/img/icons/unblock.png" alt="" height="40px" width="40px"></a></td>
                                <% } %>
                      </tr>
                   
                  </tbody>
                </table>
                  <% } %>
              </div>
            </div> 
</div> 
      <script>
        console.log('hai..')
        var modal = document.getElementById("myModal");
        // Get the image and insert it inside the modal - use its "alt" text as a caption
        var imgs = document.getElementsByClassName("myImg");
        var modalImg = document.getElementById("img01");
        var captionText = document.getElementById("caption");
        for (let i = 0; i < imgs.length; i++) {
          imgs[i].onclick = function () {
            modal.style.display = "block";
            modalImg.src = this.src;
            captionText.innerHTML = this.alt;
          }
        }
        // Get the <span> element that closes the modal
        var span = document.getElementsByClassName("close")[0];
        // When the user clicks on <span> (x), close the modal
        span.onclick = function () {
          modal.style.display = "none";
        }
      </script> 
<%- include('../partials/footer') %>